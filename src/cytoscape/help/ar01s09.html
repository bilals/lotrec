<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Node and Edge Attributes</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Cytoscape User Manual"><link rel="up" href="index.html" title="Cytoscape User Manual"><link rel="prev" href="ar01s08.html" title="Supported Network File Formats"><link rel="next" href="ar01s10.html" title="Loading Gene Expression (Attribute Matrix) Data"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Node and Edge Attributes"></a>Node and Edge Attributes</h2></div></div></div><p>Interaction networks are useful as stand-alone models. However, they are most powerful for answering scientific questions when integrated with additional information. Cytoscape allows the user to add arbitrary node, edge and network information to Cytoscape as node/edge/network(1) <span class="strong"><strong>attributes</strong></span>. Attributes could be, for example, annotation data on a gene or confidence values in a protein-protein interaction. These attributes can then be visualized in a user-defined way by setting up a mapping from data attributes to visual attributes (colors, shapes, etc.)  See the section on <a href="http://cytoscape.org/cgi-bin/moin.cgi/Cytoscape_User_Manual/Visual_Styles" target="_top"> visual styles</a> for a discussion of this. </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Cytoscape Attribute File Format"></a>Cytoscape Attribute File Format</h3></div></div></div><p>Node and edge attribute files are simply formatted: A node attribute file begins with the name of the attribute on the first line, and on each following line, has the name of the node, followed by an equals sign, followed by the value of that attribute. Numbers and text strings are the most common attribute types. All values for a given attribute must have the same type. For example: </p><p></p><pre class="screen">FunctionalCategory
YAL001C = metabolism
YAR002W = apoptosis
YBL007C = ribosome
</pre><p>An edge attribute file has much the same structure, except that the name of the edge is the source node name, followed by the interaction type in parentheses, followed by the target node name. Directionality counts, so switching the source and target will refer to a different (or perhaps non-existent) edge. The following is an example edge attributes file: </p><p></p><pre class="screen">InteractionStrength
YAL001C (pp) YBR043W = 0.82
YMR022W (pd) YDL112C = 0.441
YDL112C (pd) YMR022W = 0.9013
</pre><p>Cytoscape treats edge attributes as directional, so note that the second and third edge attribute values refer to two different edges (source and target are reversed, though the nodes involved are the same). </p><p>Each attribute is stored in a separate file. Node and edge attribute files use the same format. Node attribute file names often use the suffix ".noa", while edge attribute file names use the suffix ".eda". Cytoscape recognizes these suffixes when browsing for attribute files. </p><p>Node and edge attributes may be loaded at the command line using the &#8211;n and &#8211;e options or via the <span class="underline">File &#8594; Import</span> menu. </p><p>When expression data is loaded using an expression matrix, it is automatically copied into the Node Attributes data structure unless explicitly specified not to. </p><p>Node and edge attributes are attached to nodes and edges, NOT to networks.  If two different networks have the same nodes, then those nodes will have the same attributes.  Even if a network is loaded after attributes have been loaded, if the nodes or edges found in the new network already exist, then any existing attributes will be applied to those nodes. </p><p>Note (1): Network attributes are supported in Cytoscape, but network attribute file reader is not yet implemented in Cytoscape 2.4.  If you need to import network attributes, please use attribute table import function or write network attributes directly in XGMML file.  </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Detailed file format (Advanced users)"></a>Detailed file format (Advanced users)</h4></div></div></div><p>Every attribute file has one header line that gives the name of the attribute, and optionally some additional meta-information about that attribute. The format is as follows: </p><p></p><pre class="screen">attributeName (class=formal.class.of.value)
</pre><p>The first field is always the attribute name: it cannot contain spaces. If present, the class field defines the formal (package qualified) name of the class of the attribute values. For example, java.lang.String for Strings, java.lang.Double for floating point values, java.lang.Integer for integer values, etc. If the value is actually a list of values, the class should be the type of the objects in the list.  If no class is specified in the header line, Cytoscape will attempt to guess the type from the first value. If the first value contains numbers in a floating point format, Cytoscape will assume java.lang.Double; if the first value contains only numbers with no decimal point, Cytoscape will assume java.lang.Integer; otherwise Cytoscape will assume java.lang.String. Note that the first value can lead Cytoscape astray: for example, </p><p></p><pre class="screen">floatingPointAttribute
firstName = 1
secondName = 2.5
</pre><p>In this case, the first value will make Cytoscape think the values should be integers, when in fact they should be floating point numbers. It's safest to explicitly specify the value type to prevent confusion. A better format would be: </p><p></p><pre class="screen">floatingPointAttribute (class=Double)
firstName = 1
secondName = 2.5
</pre><p>or </p><p></p><pre class="screen">floatingPointAttribute 
firstName = 1.0
secondName = 2.5
</pre><p>Every line past the first line identifies the name of an object (node in a node attribute file and an edge in a edge attribute file) along with the String representation of the attribute value. The delimiter is always an equals sign; whitespace (spaces and/or tabs) before and after the equals sign is ignored. This means that your names and values can contain whitespace, but object names cannot contain an equals sign and no guarantees are made concerning leading or trailing whitespace.  Object names must be the Node ID or Edge ID as seen in the left-most column of the attribute browser if the attribute is to map to anything.  These names must be reproduced exactly, including case, or they will not match. </p><p>Edge names are all of the form: </p><p></p><pre class="screen">sourceName (edgeType) targetName
</pre><p>Specifically, that is  </p><div class="table"><a name="d0e1788"></a><p class="title"><b>Table&nbsp;10.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col></colgroup><tbody><tr><td><p>sourceName space openParen edgeType closeParen space targetName</p></td></tr></tbody></table></div></div><br class="table-break"><p>Note that tabs are not allowed in edge names.  Tabs can be used to separate the edge name from the "=" delimiter, but not within the edge name itself. Also note that this format is different from the specification of interactions in the SIF file format. To be explicit:  a SIF entry for the previous interaction would look like </p><p></p><pre class="screen">sourceName edgeType targetName
</pre><p>or </p><div class="table"><a name="d0e1804"></a><p class="title"><b>Table&nbsp;11.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col></colgroup><tbody><tr><td><p>sourceName whiteSpace edgeType whiteSpace targetName</p></td></tr></tbody></table></div></div><br class="table-break"><p>To specify lists of values, use the following syntax: </p><p></p><pre class="screen">listAttributeName (class=java.lang.String)
firstObjectName = (firstValue::secondValue::thirdValue)
secondObjectName = (onlyOneValue)
</pre><p>This defines an attribute which is a list of Strings. The first object has three strings, and thus three elements in its list, while the second object has a list with only one member. In the case of a list every attribute value should be specified as a list, and every member of the list should be of the same class. Again, the class will be inferred if it is not specified in the header line. Lists are not supported by the visual mapper, so can&#8217;t be mapped to visual attributes. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Newline Feature"></a>Newline Feature</h4></div></div></div><p>Sometimes it is desirable to for attributes to include linebreaks, for example node labels that extend over two lines. You can acomplish by inserting the <code class="code">
</code> characters into the attribute value.  For example: </p><p></p><pre class="screen">newlineAttr
YJL157C = This is a long\nline for a label.
</pre><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Import Attribute Table Files"></a>Import Attribute Table Files</h3></div></div></div><p>Introduced in version 2.4, Cytoscape now supports importing delimited text and MS Excel attribute data tables.  Using this functionality, users can now easily import data that isn't formatted into Cytoscape node or edge attribute file formats (as described above). </p><p><span class="inlinemediaobject"><img src="images/attribute_table_import_main.png" alt="attachment:attribute_table_import_main.png"></span> </p><p><span class="emphasis"><em><span class="strong"><strong>Sample Attribute Table 1</strong></span></em></span> </p><div class="table"><a name="d0e1851"></a><p class="title"><b>Table&nbsp;12.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td><p>Object Key</p></td><td><p>Alias</p></td><td><p>SGD ID</p></td></tr><tr><td><p>AAC3</p></td><td><p>YBR085W|ANC3</p></td><td><p>S000000289</p></td></tr><tr><td><p>AAT2</p></td><td><p>YLR027C|ASP5</p></td><td><p>S000004017</p></td></tr><tr><td><p>BIK1</p></td><td><p>YCL029C|ARM5|PAC14</p></td><td><p>S000000534</p></td></tr></tbody></table></div></div><br class="table-break"><p>Attribute table file should contain a primary key column and at least one attribute column.  Number of attribute columns is unlimited.  <span class="emphasis"><em>Alias</em></span> column is optional.  First row can be used as attribute names, but it is optional.  You can specify each attribute name from <span class="emphasis"><em>Attribute Table Import</em></span> user interface. </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Basic Operation"></a>Basic Operation</h4></div></div></div><p>User interface of <span class="emphasis"><em>Attribute Table Import</em></span> is similar to <span class="emphasis"><em>Network Table Import</em></span>. </p><div class="orderedlist"><ol type="1"><li><p>Select <span class="underline">File &#8594; Import &#8594; <span class="strong"><strong>Attribute from Table (text/MS Excel)</strong></span></span> </p></li><li><p>Select one of the attribute types from <span class="emphasis"><em>Attributes</em></span> radio buttons.  Cytoscape can import node, edge, and network attributes. </p></li><li><p>Select a data file.  To load a local file, click on <span class="emphasis"><em>Select File</em></span> button and choose a data file.  Input file can be text or Excel (.xls) file.  To load a remote file, type  source URL directly in the text box.  To show preview for the remote file, click <span class="emphasis"><em>Reload</em></span> button on <span class="emphasis"><em>Advanced</em></span> panel. </p></li><li><p>(Optional) If the table is not properly delimited, change delimiter from <span class="emphasis"><em>Text File Import Options</em></span> panel.  Default delimiter is <span class="strong"><strong>TAB</strong></span>.  This is not necessary for Excel Workbooks. </p></li><li><p>By default, the first column is set to <span class="emphasis"><em>primary key</em></span>.  Change the key column if necessary. </p><div class="itemizedlist"><ul type="disc"><li><p><span class="inlinemediaobject"><img src="images/attribute_table_import_primary_key.png" alt="attachment:attribute_table_import_primary_key.png"></span>   </p></li></ul></div></li><li><p>Click <span class="emphasis"><em>Import</em></span> button. </p></li></ol></div><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Advanced Options"></a>Advanced Options</h4></div></div></div><p><span class="emphasis"><em>Attribute Table Import</em></span> user interface has two advanced option panels to maximize mapping flexibility. </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="Advanced Mapping Options"></a>Advanced Mapping Options</h5></div></div></div><p>This panel is designed to change detail of mapping operation. </p><p><span class="underline"><span class="strong"><strong>Primaly Key and Key Attribute</strong></span></span> </p><p><span class="inlinemediaobject"><img src="images/attribute_table_import_keyattr.png" alt="attachment:attribute_table_import_keyattr.png"></span> </p><p>Old attribute file loader only supports mapping between node/edge ID and primary key in attribute file.  To solve this limitation, new <span class="emphasis"><em>Attribute Table Import</em></span> function supports both ID and attributes for mapping.  You can choose an attribute for mapping from the list in the combo box. </p><p>Note: currently, only primitive data types (string, boolean, floating point, and integer) are supported for mapping, i.e. you cannot use list, map, or complex attribute as <span class="emphasis"><em>Key Attribute</em></span>. </p><p><span class="underline"><span class="strong"><strong>Aliases</strong></span></span> </p><p><span class="inlinemediaobject"><img src="images/attribute_table_import_alias.png" alt="attachment:attribute_table_import_alias.png"></span> </p><p>Cytoscape uses simple mechanism to manage aliases of objects.   Both nodes and edges can have alias.  If attributes are loaded as alias, they are treated as special attribute called <span class="emphasis"><em><span class="strong"><strong>alias</strong></span></em></span>.  This will be used when mapping attributes.  If <span class="emphasis"><em>primary key</em></span> and <span class="emphasis"><em>key attribute</em></span> for an object does not match, Cytoscape searches a match between aliases and key attribute.  To use columns in attribute table as alias, just click on check boxes in the alias table.      </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="Text File Import Options"></a>Text File Import Options</h5></div></div></div><div class="itemizedlist"><ul type="disc"><li><p>This is mostly same as <span class="emphasis"><em>Network Table Import</em></span>.  For detail, please read <span class="emphasis"><em>Import Free-Format Table Files</em></span> section in this manual. </p></li></ul></div><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Attribute Browser"></a>Attribute Browser</h4></div></div></div><p><span class="inlinemediaobject"><img src="images/attribute_browser1.png" alt="attachment:attribute_browser1.png"></span> </p><p>When Cytoscape is started, the Attribute Browser appears in the bottom Cytopanel. This browser can be hidden and restored using the F5 key or the <span class="underline">View &#8594; Show/Hide attribute browser</span> menu option. Like other Cytopanels, the browser can be undocked by pressing the little icon in the browser&#8217;s top right corner. </p><p>To swap between displaying node, edge, and network attributes use the tabs on the bottom of the panel: <span class="emphasis"><em><span class="strong"><strong>Node Attribute Browser</strong></span></em></span>, <span class="emphasis"><em><span class="strong"><strong>Edge Attribute Browser</strong></span></em></span>, and <span class="emphasis"><em><span class="strong"><strong>Network Attribute Browser</strong></span></em></span>. The attribute browser displays attributes belonging to selected nodes and/or edges and the currently selected network. To populate the browser with rows (as pictured above), simply select nodes and/or edges in a loaded network. By default, only the <span class="emphasis"><em>ID</em></span> of nodes and edges is shown. To display more than just the ID, click the <span class="emphasis"><em>Select Attributes</em></span> <span class="inlinemediaobject"><img src="images/attributes_select_icon.png" alt="attachment:attributes_select_icon.png"></span> button and choose the attributes that are to be displayed. Each attribute chosen will result in one column in the attribute browser (in the screenshot above there are 5 columns total including the ID). Most attribute values can be edited by double-clicking an attribute cell; list values cannot be edited, and neither can the ID. Attribute rows in the browser can be sorted alphabetically by specific attribute by clicking on a column heading. A new attribute can be created using the <span class="emphasis"><em>Create New Attribute</em></span> <span class="inlinemediaobject"><img src="images/attributes_new_icon.png" alt="attachment:attributes_new_icon.png"></span> button. Attributes created using the attribute browser must be one of four types &#8211; integer, string, real number (floating point), or boolean. Attributes can be deleted using the <span class="emphasis"><em>Delete Attributes...</em></span> <span class="inlinemediaobject"><img src="images/attributes_delete_icon.png" alt="attachment:attributes_delete_icon.png"></span> button. NOTE: Deleting attributes removes them from Cytoscape, not just the attribute browser! To remove attributes only from the browser simply unselect the attribute using the <span class="emphasis"><em>Select Attributes</em></span> <span class="inlinemediaobject"><img src="images/attributes_select_icon.png" alt="attachment:attributes_select_icon.png"></span> button. The right-click menu on the Attribute Browser has several functions. This menu is useful for exporting attribute information to spreadsheet applications. For example, choose <span class="emphasis"><em>Select All</em></span> and then <span class="emphasis"><em>Copy</em></span> from the right-click and then paste into a spreadsheet application.  Each attribute browser panel has a button for importing new attributes: <span class="inlinemediaobject"><img src="images/attributes_import_icon.png" alt="attachment:attributes_import_icon.png"></span> . </p><p>The Node Attribute Browser panel has additional buttons for loading Gene Expression attribute matrices ( <span class="inlinemediaobject"><img src="images/attributes_gene_expr_icon.png" alt="attachment:attributes_gene_expr_icon.png"></span> ) as node attributes. </p></div></div></div></body></html>