<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Visual Styles</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Cytoscape User Manual"><link rel="up" href="index.html" title="Cytoscape User Manual"><link rel="prev" href="ar01s11.html" title="Navigation and Layout"><link rel="next" href="ar01s13.html" title="Finding and Filtering Nodes and Edges"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="Visual Styles"></a>Visual Styles</h2></div></div></div><p>With the Cytoscape Visual Style feature, you can easily customize the visual appearance of your network. For example, you can: </p><div class="itemizedlist"><ul type="disc"><li>specify a default color and shape for all nodes. </li><li>use specific line types to indicate different types of interactions, or </li><li>visualize gene expression data along a color gradient. </li></ul></div><p>All these features are available by selecting the <span class="underline">View &#8594; Open Viz Mapper</span> menu item or clicking on the Viz Mapper icon <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"></span> button on the main button bar. </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Introduction to Visual Styles"></a>Introduction to Visual Styles</h3></div></div></div><p>The Cytoscape distribution includes several predefined visual styles to get you started. To demonstrate these styles, try out the following example: </p><div class="itemizedlist"><ul type="disc"><li><p>Load a sample network: From the main menu, select <span class="underline">File &#8594; Import &#8594; Network</span>, and select sampleData/galFiltered.sif. </p></li><li><p>Layout the network: select <span class="underline">Layout &#8594; yFiles &#8594; Organic</span>. </p></li><li><p>Load a sample set of expression data: From the main menu, select <span class="underline">File &#8594; Import &#8594; Attribute Matrix</span> and select sampleData/galExpData.pvals. </p></li></ul></div><p>By default, the Visual Style labeled &#8220;default&#8221; will be automatically applied to your network. This default style has a blue background, circular pink nodes, and blue edges (see sample screenshot below). </p><p><span class="inlinemediaobject"><img src="images/VizMapperDefaultStyle.png" alt="attachment:VizMapperDefaultStyle.png"></span> <span class="strong"><strong>Figure: Using the default Visual Style.</strong></span> </p><p>You can change visual styles by making a selection from the Visual Style pull down menu (available directly to the right of the <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"></span> icon). </p><p>For example, if you select &#8220;Sample1&#8221;, a new visual style will be applied to your network, and you will see a white background and round blue nodes. Additionally, if you zoom in closer, you can see that protein-DNA interactions (specified with the label: pd) are drawn with dashed red edges, whereas protein-protein interactions (specified with the label: pp) are drawn with a light blue color (see sample screenshot below). </p><p><span class="inlinemediaobject"><img src="images/VizMapperSample1Style.png" alt="attachment:VizMapperSample1Style.png"></span> <span class="strong"><strong>Figure: Using the Sample1 Visual Style. Protein-Protein interactions (solid blue lines) are now distinguishable from Protein-DNA interactions (dashed red lines).</strong></span> </p><p>Finally, if you select &#8220;Sample2&#8221;, gene expression values for each node will be colored along a color gradient between red and green (where red represents a low expression ratio, and green represents a high expression ratio - with thresholds set for the gal1RGexp experiment bundled with Cytoscape in the sampleData/galExpData.pvals file). See sample screenshot below: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="inlinemediaobject"><img src="images/VizMapperSample2Style.png" alt="attachment:VizMapperSample2Style.png"></span> </p></li></ul></div><p><span class="strong"><strong>Figure: Using the Sample2 Visual Style. Gene expression values are now displayed along a red/green color gradient.</strong></span> </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Visual Attributes, Graph Attributes and Visual Mappers"></a>Visual Attributes, Graph Attributes and Visual Mappers</h3></div></div></div><p>The Cytoscape Visual Mapper has three core components: <span class="emphasis"><em>visual attributes, network attributes </em></span>and <span class="emphasis"><em>visual mappers</em></span>: </p><div class="itemizedlist"><ul type="disc"><li><p>A <span class="emphasis"><em>visual attribute</em></span> is any visual setting that can be applied to your network. For example, you can change all nodes to squares by setting the node shape visual attribute. </p></li><li><p>A <span class="emphasis"><em>network attribute</em></span> is any attribute associated with a node or an edge. For example, each edge in a network may be associated with a label, such as &#8220;pd&#8221; (protein-DNA interactions), or &#8220;pp&#8221; (protein-protein interactions). </p></li><li><p>A <span class="emphasis"><em>visual mapper</em></span> maps network attributes to visual attributes. For example, a visual mapper can map all protein-DNA interactions to the color blue, and all protein-protein interactions to the color red. </p></li></ul></div><p>Cytoscape includes a large number of visual attributes. These are summarized in the tables below. </p><div class="table"><a name="d0e3108"></a><p class="title"><b>Table&nbsp;15.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col></colgroup><tbody><tr><td><p><span class="strong"><strong>Visual Attributes Associated with Nodes:</strong></span> </p></td></tr><tr><td><p>Node Color </p></td></tr><tr><td><p>Node Border Color </p></td></tr><tr><td><p>Node Border Line Type. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperLineType.png" alt="attachment:VizMapperLineType.png"></span> </p></td></tr><tr><td><p>Node Shape. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperNodeShape.png" alt="attachment:VizMapperNodeShape.png"></span> </p></td></tr><tr><td><p>Node Size: width and height of each node. </p></td></tr><tr><td><p>Node Label: the text label for each node. </p></td></tr><tr><td><p>Node Label Position: the posiiton of the label relative to the node.</p></td></tr><tr><td><p>Node Font: node font and size. </p></td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e3171"></a><p class="title"><b>Table&nbsp;16.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col></colgroup><tbody><tr><td><p><span class="strong"><strong>Visual Attributes Associated with Edges:</strong></span> </p></td></tr><tr><td><p>Edge Color </p></td></tr><tr><td><p>Edge Line Type. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperLineType.png" alt="attachment:VizMapperLineType.png"></span> </p></td></tr><tr><td><p>Edge Source Arrow. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperArrowType.png" alt="attachment:VizMapperArrowType.png"></span> </p></td></tr><tr><td><p>Edge Target Arrow. The following options are available: </p></td></tr><tr><td><p><span class="inlinemediaobject"><img src="images/VizMapperArrowType.png" alt="attachment:VizMapperArrowType.png"></span> </p></td></tr><tr><td><p>Edge Label: the text label for each edge. </p></td></tr><tr><td><p>Edge Font: edge font and size. </p></td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e3236"></a><p class="title"><b>Table&nbsp;17.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col></colgroup><tbody><tr><td><p><span class="strong"><strong>Global Visual Properties:</strong></span> </p></td></tr><tr><td><p>Background Color </p></td></tr></tbody></table></div></div><br class="table-break"><p>For each visual attribute, you can specify a default value or define a visual mapping. Cytoscape currently supports three different types of visual mappers: </p><div class="itemizedlist"><ul type="disc"><li><p><span class="strong"><strong>Passthrough Mapper:</strong></span> network attributes are passed directly through to visual attributes. A passthrough mapper only works for node / edge labels. For example, a passthrough mapper can draw the common gene name on all nodes. </p></li><li><p><span class="strong"><strong>Discrete Mapper:</strong></span> discrete network attributes are mapped to discrete visual attributes. For example, a discrete mapper can map all protein-protein interactions to the color blue. </p></li><li><p><span class="strong"><strong>Continuous Mapper</strong></span>: continuous graph attributes are mapped to visual attributes. Depending on the visual attribute, there are two types of continuous mappers: </p><div class="itemizedlist"><ul type="circle"><li><p><span class="strong"><strong>continuous to continuous mapper</strong></span>: for example, you can map a continuous value (0..1) to a continuous color gradient (red..green) or node/font size (10..100). </p></li><li><p><span class="strong"><strong>continuous to discrete mapper</strong></span>: for example, all values below 0 are mapped to square nodes, and all values above 0 are mapped to circular nodes. However, there is no way to smoothly morph between circular nodes and square nodes. </p></li></ul></div></li></ul></div><p>The matrix below shows visual mapper support for each visual property. </p><div class="table"><a name="d0e3282"></a><p class="title"><b>Table&nbsp;18.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col><col><col><col></colgroup><tbody><tr><td><p><span class="strong"><strong>Node Properties</strong></span> </p></td><td><p><span class="strong"><strong>Passthrough Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Discrete Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Continuous Mapper</strong></span> </p></td></tr><tr><td><p> Node Color </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Node Border Color </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Node Border Type </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Shape </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Size </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Node Label </p></td><td><p>X </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Font Family </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Node Font Size </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p><span class="strong"><strong>Edge Properties</strong></span> </p></td><td><p><span class="strong"><strong>Passthrough Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Discrete Mapper</strong></span> </p></td><td><p><span class="strong"><strong>Continuous Mapper</strong></span> </p></td></tr><tr><td><p> Edge Color </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr><tr><td><p> Edge Line Type </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Source Arrow </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Target Arrow </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Label </p></td><td><p>X </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Font Family </p></td><td><p> - </p></td><td><p>X </p></td><td><p>o </p></td></tr><tr><td><p> Edge Font Size </p></td><td><p> - </p></td><td><p>X </p></td><td><p>X </p></td></tr></tbody></table></div></div><br class="table-break"><p><span class="strong"><strong>Legend</strong></span> </p><div class="table"><a name="d0e3531"></a><p class="title"><b>Table&nbsp;19.&nbsp;</b></p><div class="table-contents"><div class="caption"></div><table border="1"><colgroup><col><col></colgroup><tbody><tr><td><p><span class="emphasis"><em>Symbol</em></span></p></td><td><p><span class="emphasis"><em>Description</em></span></p></td></tr><tr><td><p> - </p></td><td><p>Mapping is not supported for specified visual property. </p></td></tr><tr><td><p> X </p></td><td><p>Mapping is fully supported for specified visual property. </p></td></tr><tr><td><p> o </p></td><td><p>Mapping is partially supported for specified visual property. Support for &#8220;continuous to continuous&#8221; mapping is not supported. </p></td></tr></tbody></table></div></div><br class="table-break"><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Visual Styles Tutorials"></a>Visual Styles Tutorials</h3></div></div></div><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Tutorial 1: Creating a Basic Visual Style"></a>Tutorial 1: Creating a Basic Visual Style</h4></div></div></div><p>To create a new visual style, select the <span class="underline">View &#8594; Open Viz Mapper</span> menu item, or select the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> icon in the main button bar. You will now see a new Visual Styles dialog box (shown below.) </p><p><span class="inlinemediaobject"><img src="images/VizMapperDialog.png" alt="attachment:VizMapperDialog.png"></span> </p><p>Click the New button, and enter a name for your new visual style when prompted. Then click the <span class="strong"><strong>Define</strong></span> button. You will now see the main Visual Styles Properties dialog box (shown below.) </p><p>From this dialog box, you can flip between Node Attributes, Edge Attributes, and Global Defaults. You can also specify default values for any visual property, or define a new custom mapping. </p><p>For example, to set the default node shape to triangles, select <span class="underline">Node Attributes &#8594; Node Shape</span>. Then, click the <span class="strong"><strong>Change Default</strong></span> button, and select the Triangle icon from the selection list. </p><p><span class="inlinemediaobject"><img src="images/VizMapperNodeShapeDialog.png" alt="attachment:VizMapperNodeShapeDialog.png"></span> To apply your visual style to your network, hit the <span class="strong"><strong>Apply to Network</strong></span>  button, available in the bottom of the dialog panel. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Tutorial 2: Creating a New Visual Style with a Discrete Mapper"></a>Tutorial 2: Creating a New Visual Style with a Discrete Mapper</h4></div></div></div><p>The following tutorial demonstrates how to create a new visual style with a discrete mapper. The goal is to draw Protein-DNA interactions with blue edges, and Protein-Protein interactions with red edges. </p><div class="itemizedlist"><ul type="disc"><li><p>Load a sample network: From the main menu, select <span class="underline">File &#8594; Import &#8594; Network</span>, and select sampleData/galFiltered.sif. </p></li><li><p>Click the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"></span> button on the tool bar. </p></li><li><p>Select <span class="strong"><strong>New</strong></span> to create a new Visual Style. Name your new style: &#8220;Sample3&#8221;. </p></li><li><p>Click the <span class="strong"><strong>Define</strong></span> button to define the newly created Visual Style. </p></li><li><p>In the &#8220;Set Visual Properties&#8221; Dialog box, select <span class="underline">Edge Attributes &#8594; Edge Color</span>. </p></li><li><p>Click the <span class="strong"><strong>New</strong></span> button in the mapping panel. </p></li><li>You will be prompted to select a mapping type: passthrough mapper, discrete mapper or continuous mapper (for an overview of the differences between these mappers, please refer to the text above) Select &#8220;discrete mapper&#8221;, and enter a descriptive name. For example, enter: Interaction_Type_Color. </li><li>From the &#8220;Map Attribute&#8221; pull-down menu, select &#8220;interaction.&#8221; You should now see two buttons, one for pd (Protein-DNA interactions), and one for pp (Protein-Protein interactions). </li><li>Click the &#8220;pd&#8221; button and select a blue color. </li><li>Click the &#8220;pp&#8221; button and select a red color. </li><li>Click the &#8220;Apply to Network" button. </li></ul></div><p>You network should now show &#8220;pd&#8221; interactions in blue, and &#8220;pp&#8221; interactions in red. Sample screenshot is below </p><p><span class="inlinemediaobject"><img src="images/VizMapperInteractionsRedBlue.png" alt="attachment:VizMapperInteractionsRedBlue.png"></span> </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Tutorial 3: Visualizing Expression Data on a Network"></a>Tutorial 3: Visualizing Expression Data on a Network</h4></div></div></div><p>The following tutorial demonstrates how to create a new continuous mapper. The goal is to superimpose gene expression data onto a network, and to display gene expression values along a color gradient. </p><div class="itemizedlist"><ul type="disc"><li><p>Load a sample network: From the main menu, select <span class="underline">File &#8594; Import &#8594; Network</span>, and select sampleData/galFiltered.sif. </p></li><li><p>Load a sample set of expression data: From the main menu, select <span class="underline">File &#8594; Import &#8594; Attribute Matrix</span> and select sampleData/galExpData.pvals. </p></li><li><p>Click the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMap" target="_top">VizMap</a> <span class="inlinemediaobject"><img src="images/VizMapIcon.png" alt="attachment:VizMapIcon.png"></span> button on the tool bar. </p></li><li>Select &#8220;New&#8221; to create a new Visual Style. Name your new style: &#8220;Sample4&#8221;. </li><li>Click the &#8220;Define&#8221; button to define the newly created Visual Style. </li><li><p>In the &#8220;Set Visual Properties&#8221; Dialog box, select <span class="underline">Node Attributes &#8594; Node Color</span>. </p></li><li>Click the New button in the mapping panel. </li><li>You will be prompted to select a mapping type: passthrough mapper, discrete mapper or continuous mapper (for an overview of the differences between these mappers, please refer to the section above) Select &#8220;continuous mapper&#8221;, and enter a descriptive name. For example, enter: Color_Gradient. </li><li>From the &#8220;Map Attribute&#8221; pull-down menu, select &#8220;gal1RGexp.&#8221; </li><li>Click the &#8220;Add Point&#8221; button twice to add two data points. </li><li>Set the first point to &#8220;-1&#8221;, Below = Yellow, Equal = White. </li><li>Set the second point to &#8220;2&#8221;, Equal = Red, Above = Black. </li><li>Click the &#8220;Apply to Network" button. </li></ul></div><p>This visual mapper will set all nodes with a gal1RGexp value less than &#8211;1 to Yellow, and all nodes with a gal1RGExp value greater than 2 to Black. Additionally, all values between &#8211;1 and 2 will be painted with a white/red color gradient. Sample screenshot is below. </p><p><span class="inlinemediaobject"><img src="images/VizMapperExpRedBlack.png" alt="attachment:VizMapperExpRedBlack.png"></span> </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Managing Visual Styles"></a>Managing Visual Styles</h3></div></div></div><p>All Cytoscape Visual Style settings are initially loaded from a a default file called vizmap.props that cannot be altered by users. When users make changes to the visual properties, a vizmap.props file is saved in the session file. This means that assuming you save your session, you will not lose your visual properties.  No other vizmap.props files are saved during normal operation. </p><p></p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Saving Visual Styles"></a>Saving Visual Styles</h4></div></div></div><p>Visual styles are automatically saved with the session they were created in.  Before Cytoscape exits, you will be prompted to make sure you save the session before quitting.   It is also possible to save your visual styles in a file separate from the session file.  To do this, navigate to the <span class="underline">File &#8594; Export &#8594; Vizmap Property File...</span> menu and choose the file the properties should be saved to.   This feature can be used to share visual styles with other users. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Importing Visual Styles"></a>Importing Visual Styles</h4></div></div></div><p>To import existing visual styles navigate to the <span class="underline">File &#8594; Import &#8594; Vizmap Property File</span> menu option and select a vizmap.props file.  Imported properties will supplement existing properties or override existing properties if the properties have the same name. You can also specify a visual properties file using the -V command line option (cytoscape.sh -V myVizmap.props).  Visual properties loaded from the command line will override any default properties. </p><p></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="Default Visual Styles"></a>Default Visual Styles</h4></div></div></div><p>It is possible to change the default visual properties for all sessions of cytoscape.  To do this, navigate to the <span class="underline">Edit &#8594; Preferences...</span> menu, check the "Make Current Visual Styles Default" box in the "Default Visual Styles" section, and click "Ok".  This will save the current visual styles as a vizmap.props file to your .cytoscape directory (found in your home directory). These visual styles will be loaded each time Cytoscape is started. </p><p></p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="Bypassing Visual Styles"></a>Bypassing Visual Styles</h3></div></div></div><p>Cytoscape has a new feature that allows users to override visualizations created by the vizmapper for individual nodes and edges. This feature is available by right-clicking on a node or edge and then clicking on the <span class="underline">Visual Mapping Bypass</span> menu.  </p><p><span class="inlinemediaobject"><img src="images/VizmapBypass.png" alt="attachment:VizmapBypass.png"></span> </p><p>Each visual property of the node or edge is displayed.  When a property is overridden, a checkmark appears next to the property and a <span class="underline">[Reset &lt;Property Name&gt;]</span> menu item appears below the checked property.  By clicking the <span class="underline">[Reset &lt;Property Name&gt;]</span> option the bypass will be removed and the attribute will be displayed as defined by the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMapper" target="_top">VizMapper</a>. At the bottom of the menu a <span class="underline">Reset All</span> option appears.  When clicked, this will be remove all bypasses for the specified node or edge.  In the example above you can see the the selected node size, color, and shape have been overridden.  This is apparent in the appearance of the node itself and by the check marks in the popup menu. </p><p>It is important to realize that the the Visual Mapping Bypass only works for individual nodes and edges and not for all nodes or edges of a specific type.  Using bypass is not particularly resource intensive, meaning you can use it as much as you like. However, if you ever find yourself repeating the same bypasses, then you should consider using the <a href="http://cytoscape.org/cgi-bin/moin.cgi/VizMapper" target="_top">VizMapper</a> instead. </p><p>Bypass is accomplished using special attributes with names like <span class="emphasis"><em>node.fillColor</em></span> and <span class="emphasis"><em>node.shape</em></span>.  These are normal Cytoscape attributes and can be seen an editted in the Attribute Browser.  The value of the attribute is a string representation of a property.  For example, color is represented by 3 integers representing the RGB (red, green, blue) value of the color.  Different types of properties have different string representations.  When in doubt, just use the right click menu to create valid attribute values.  </p><p>Because bypass values are specified using normal attributes, these attributes will persist between sessions as long as you save your session!  If you don't save your session, you will lose whatever bypass values you set. </p></div></div></body></html>